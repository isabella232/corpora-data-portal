{
    "StartAt": "Manage Batch task",
    "States": {
      "Manage Batch task": {
        "Type": "Task",
        "Resource": "arn:aws:states:::batch:submitJob.sync",
        "Parameters": {
          "JobDefinition": "${JOB_DEFINITION}",
          "JobName": "processing",
          "JobQueue": "${JOB_QUEUE}",
          "ContainerOverrides": {
            "Environment": [
              {
                "Name": "DROPBOX_URL",
                "Value.$": "$.url"
              },
              {
                "Name": "DATASET_ID",
                "Value.$": "$.dataset_uuid"
              }
            ]
          }
        },
        "End": true,
        "TimeoutSeconds": 10800
      }
    }
  }
  